setwd("~/COURSERA/GettingAndCleaningData")
if (!file.exists("data")) {
dir.create("data")
}
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
download.file(fileUrl, destfile = "./data/housing.csv", method = "curl")
housingData <- read.csv("./data/housing.csv")
nrow(subset(housingData, housingData$VAL == 24))
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileUrl, destfile = "./data/naturalGas.xlsx", method = "curl")
library(xlsx)
# Reading specific rows and columns
colIndex <- 7:15
rowIndex <- 18:23
dat <- read.xlsx("./data/naturalGas.xlsx", sheetIndex=1, colIndex=colIndex, rowIndex=rowIndex)
sum(dat$Zip*dat$Ext,na.rm=T)
library(XML)
fileUrl <- "http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
restaurants <- xmlTreeParse(fileUrl,useInternal=TRUE)
# Get the items on the menu and prices
zipcodes <- xpathSApply(rootNode, "//zipcode", xmlValue)
sum(zipcodes == "21231")
rootNode <- xmlRoot(restaurants)
# Get the items on the menu and prices
zipcodes <- xpathSApply(rootNode, "//zipcode", xmlValue)
sum(zipcodes == "21231")
library(data.table)
fileUrl <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv"
download.file(fileUrl, destfile = "./data/housingIdaho.csv", method = "curl")
DT <- fread("./data/housingIdaho.csv")
DT <- fread("./data/housingIdaho.csv")
system.time(DT[,mean(pwgtp15),by=SEX])
system.time(DT[,mean(pwgtp15),by=SEX])
